<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<title>Kakao 지도 시작하기</title>
</head>
<body>
	<div id="map" style="width:800px;height:400px;"></div>
	<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=af7787cd13285e6101271c9c4390b047&libraries=services"></script>	
	<script>
		var container = document.getElementById('map');
		var options = {
			center: new kakao.maps.LatLng(33.450701, 126.570667),
			level: 3
		};

		var map = new kakao.maps.Map(container, options);
		
		// 부드럽게 지정 위치로 이동하는 함수
		function panTo(lat, lng)
		{
			var moveLatLon=new kakao.maps.LatLng(lat, lng);
			map.panTo(moveLatLon);
		}
		// 지도 타입에 따라 표시하는 함수
		// 지도에 추가된 지도타입정보를 가지고 있을 변수입니다
		var currentTypeId;

		// 버튼이 클릭되면 호출되는 함수입니다
		function setOverlayMapTypeId(maptype) {
		    var changeMaptype;

		    // maptype에 따라 지도에 추가할 지도타입을 결정합니다
		    if (maptype === 'traffic') {            

			// 교통정보 지도타입
			changeMaptype = kakao.maps.MapTypeId.TRAFFIC;     

		    } else if (maptype === 'roadview') {        

			// 로드뷰 도로정보 지도타입
			changeMaptype = kakao.maps.MapTypeId.ROADVIEW;    

		    } else if (maptype === 'terrain') {

			// 지형정보 지도타입
			changeMaptype = kakao.maps.MapTypeId.TERRAIN;    

		    } else if (maptype === 'use_district') {

			// 지적편집도 지도타입
			changeMaptype = kakao.maps.MapTypeId.USE_DISTRICT;           
		    }

		    // 이미 등록된 지도 타입이 있으면 제거합니다
		    if (currentTypeId) {
			map.removeOverlayMapTypeId(currentTypeId);    
		    }

		    // maptype에 해당하는 지도타입을 지도에 추가합니다
		    map.addOverlayMapTypeId(changeMaptype);

		    // 지도에 추가된 타입정보를 갱신합니다
		    currentTypeId = changeMaptype;        
		}
	
	function searchAddress(){        
	// 주소-좌표 변환 객체를 생성합니다
	    var geocoder = new kakao.maps.services.Geocoder();

	    // 주소로 좌표를 검색합니다
		 geocoder.addressSearch("서울시", function(result, status) {
		// 정상적으로 검색이 완료됐으면 
		 if (status === kakao.maps.services.Status.OK) {

		    var coords = new kakao.maps.LatLng(result[0].y, result[0].x);

		    // 결과값으로 받은 위치를 마커로 표시합니다
		    var marker = new kakao.maps.Marker({
			map: map,
			position: coords
		    });

		    // 인포윈도우로 장소에 대한 설명을 표시합니다
		    var infowindow = new kakao.maps.InfoWindow({
			content: '<div style="width:150px;text-align:center;padding:6px 0;">우리회사</div>'
		    });
		    infowindow.open(map, marker);

		    // 지도의 중심을 결과값으로 받은 위치로 이동시킵니다
		    map.setCenter(coords);
		} 
	    });    
	}
	</script>	
</body>
</html>
